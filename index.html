<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Connect Work</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <header>
    <div class="container">
      <h1>Connect Work</h1>
      <nav>
        <ul class="menu">
          <li><a href="index.html">Início</a></li>
          <li class="dropdown">
            <a href="#">Serviços</a>
            <ul class="dropdown-menu">
              <li><a href="#">Eletricista</a></li>
              <li><a href="#">Encanador</a></li>
              <li><a href="#">Contador</a></li>
              <li><a href="#">Pintor</a></li>
            </ul>
          </li>
          <li><a href="#contato">Contato</a></li>
          <li><a href="cadastro.html">Cadastro</a></li>
          <li><a href="login.html">Login</a></li>

          <!-- Ícone de perfil -->
          <li class="menu-perfil">
            <a href="login.html" id="perfil-link" title="Perfil">
              <i class="fa fa-user-circle fa-lg"></i>
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <section class="hero">
    <div class="container">
      <h2>Encontre o profissional ideal para o seu serviço</h2>
      <form class="busca-servico" action="#" method="GET">
        <input type="text" name="servico" placeholder="Ex: eletricista, encanador..." required>
        <button type="submit">Buscar</button>
      </form>
    </div>
  </section>

  <section class="principais-servicos">
    <div class="container">
      <h2>Principais Serviços</h2>
      <div class="carrossel">
        <button class="prev">&#10094;</button>
        <div class="carrossel-items">
          <div class="item"><img src="https://via.placeholder.com/200x120?text=Contador"><p>Contador</p></div>
          <div class="item"><img src="https://via.placeholder.com/200x120?text=Eletricista"><p>Eletricista</p></div>
          <div class="item"><img src="https://via.placeholder.com/200x120?text=Encanador"><p>Encanador</p></div>
          <div class="item"><img src="https://via.placeholder.com/200x120?text=Pintor"><p>Pintor</p></div>
        </div>
        <button class="next">&#10095;</button>
      </div>
    </div>
  </section>

  <footer>
    <div class="container">
      <p>&copy; 2025 Serviços para Você</p>
    </div>
  </footer>

  <script>
    // Carrossel
    const carrossel = document.querySelector('.carrossel-items');
    const prevBtn = document.querySelector('.prev');
    const nextBtn = document.querySelector('.next');
    const itemWidth = 220;
    let index = 0;

    const items = document.querySelectorAll('.carrossel-items .item');
    const totalItems = items.length;

    // Clona os itens para simular o loop
    items.forEach(item => {
      const clone = item.cloneNode(true);
      carrossel.appendChild(clone);
    });

    function slide(direction) {
      index += direction;

      if (index < 0) {
        index = totalItems - 1;
        carrossel.scrollLeft = index * itemWidth;
      } else if (index >= totalItems * 2) {
        index = 0;
        carrossel.scrollLeft = 0;
      }

      carrossel.scrollTo({
        left: index * itemWidth,
        behavior: 'smooth'
      });
    }

    nextBtn.addEventListener('click', () => slide(1));
    prevBtn.addEventListener('click', () => slide(-1));

    let autoplay = setInterval(() => slide(1), 3000);

    carrossel.addEventListener('mouseenter', () => clearInterval(autoplay));
    carrossel.addEventListener('mouseleave', () => {
      autoplay = setInterval(() => slide(1), 3000);
    });

    // Redirecionamento do ícone de perfil com base no tipo de usuário
    const perfilLink = document.getElementById('perfil-link');
    const usuarioLogado = localStorage.getItem('usuarioLogado');
    const tipoUsuario = localStorage.getItem('tipoUsuario');

    if (usuarioLogado === 'true') {
      if (tipoUsuario === 'cliente') {
        perfilLink.href = "perfil_cliente.html";
      } else if (tipoUsuario === 'prestador') {
        perfilLink.href = "perfil_prestador.html";
      }
    } else {
      perfilLink.href = "login.html";
    }
  </script>
</body>
</html>